{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///E:/AppDevelopment/PDFToolkit/src/actions/split-pdf-action.ts"],"sourcesContent":["'use server';\r\n\r\nimport { PDFDocument } from 'pdf-lib';\r\nimport JSZip from 'jszip';\r\n\r\nexport async function splitPdf(formData: FormData): Promise<string> {\r\n  const file = formData.get('file') as File;\r\n  if (!file) {\r\n    throw new Error('No file uploaded.');\r\n  }\r\n\r\n  if (file.type !== 'application/pdf') {\r\n    throw new Error(`Invalid file type for \"${file.name}\". Only PDF files can be split.`);\r\n  }\r\n\r\n  try {\r\n    const pdfBytes = await file.arrayBuffer();\r\n    const pdfDoc = await PDFDocument.load(pdfBytes);\r\n    const pageCount = pdfDoc.getPageCount();\r\n\r\n    if (pageCount <= 1) {\r\n      throw new Error('PDF has only one page, so it cannot be split.');\r\n    }\r\n\r\n    const zip = new JSZip();\r\n    const pageIndices = pdfDoc.getPageIndices();\r\n\r\n    for (let i = 0; i < pageCount; i++) {\r\n      const pageIndex = pageIndices[i];\r\n      const subDoc = await PDFDocument.create();\r\n      const [copiedPage] = await subDoc.copyPages(pdfDoc, [pageIndex]);\r\n      subDoc.addPage(copiedPage);\r\n      const newPdfBytes = await subDoc.save();\r\n      zip.file(`page_${i + 1}.pdf`, newPdfBytes);\r\n    }\r\n\r\n    const zipBytes = await zip.generateAsync({ type: 'nodebuffer' });\r\n    const zipDataUri = `data:application/zip;base64,${Buffer.from(\r\n      zipBytes\r\n    ).toString('base64')}`;\r\n\r\n    return zipDataUri;\r\n  } catch (e: any) {\r\n    console.error(`PDF split failed for file: ${file.name}`, e);\r\n    throw new Error(`Failed to split the PDF \"${file.name}\". The file may be corrupted, password-protected, or in an unsupported format.`);\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;;;;;;AAEO,eAAe,SAAS,QAAkB;IAC/C,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,KAAK,IAAI,KAAK,mBAAmB;QACnC,MAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,KAAK,IAAI,CAAC,+BAA+B,CAAC;IACtF;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,KAAK,WAAW;QACvC,MAAM,SAAS,MAAM,gMAAA,CAAA,cAAW,CAAC,IAAI,CAAC;QACtC,MAAM,YAAY,OAAO,YAAY;QAErC,IAAI,aAAa,GAAG;YAClB,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,MAAM,IAAI,qIAAA,CAAA,UAAK;QACrB,MAAM,cAAc,OAAO,cAAc;QAEzC,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,IAAK;YAClC,MAAM,YAAY,WAAW,CAAC,EAAE;YAChC,MAAM,SAAS,MAAM,gMAAA,CAAA,cAAW,CAAC,MAAM;YACvC,MAAM,CAAC,WAAW,GAAG,MAAM,OAAO,SAAS,CAAC,QAAQ;gBAAC;aAAU;YAC/D,OAAO,OAAO,CAAC;YACf,MAAM,cAAc,MAAM,OAAO,IAAI;YACrC,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE;QAChC;QAEA,MAAM,WAAW,MAAM,IAAI,aAAa,CAAC;YAAE,MAAM;QAAa;QAC9D,MAAM,aAAa,CAAC,4BAA4B,EAAE,OAAO,IAAI,CAC3D,UACA,QAAQ,CAAC,WAAW;QAEtB,OAAO;IACT,EAAE,OAAO,GAAQ;QACf,QAAQ,KAAK,CAAC,CAAC,2BAA2B,EAAE,KAAK,IAAI,EAAE,EAAE;QACzD,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,KAAK,IAAI,CAAC,8EAA8E,CAAC;IACvI;AACF;;;IAzCsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///E:/AppDevelopment/PDFToolkit/.next-internal/server/app/split/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {splitPdf as '40063ccaded898d55a05c6190028ceee9736e7d0f7'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///E:/AppDevelopment/PDFToolkit/src/components/header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/header.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/header.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///E:/AppDevelopment/PDFToolkit/src/components/header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/header.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/header.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAyQ,GACtS,uCACA","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///E:/AppDevelopment/PDFToolkit/src/components/pdf-splitter.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/pdf-splitter.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/pdf-splitter.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA","debugId":null}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///E:/AppDevelopment/PDFToolkit/src/components/pdf-splitter.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/pdf-splitter.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/pdf-splitter.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+Q,GAC5S,6CACA","debugId":null}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///E:/AppDevelopment/PDFToolkit/src/app/split/page.tsx"],"sourcesContent":["import Header from \"@/components/header\";\r\nimport PdfSplitter from \"@/components/pdf-splitter\";\r\n\r\nexport default function SplitPage() {\r\n  return (\r\n    <div className=\"flex min-h-screen w-full flex-col\">\r\n      <Header />\r\n      <main className=\"flex flex-1 items-center justify-center bg-muted/30 py-12\">\r\n        <div className=\"container flex max-w-2xl flex-col items-center justify-center px-4 md:px-6\">\r\n          <PdfSplitter />\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,4HAAA,CAAA,UAAM;;;;;0BACP,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,qIAAA,CAAA,UAAW;;;;;;;;;;;;;;;;;;;;;AAKtB","debugId":null}}]
}